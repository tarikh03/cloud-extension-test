function LoginCtrl($rootScope,$state,AuthService,AUTH_EVENTS,FE_VERSION,$sessionStorage,TDMService,LOGIN_BANNER){var loginCtrl=this;loginCtrl.banner=LOGIN_BANNER,loginCtrl.version=FE_VERSION.version,loginCtrl.currentYear=(new Date).getFullYear(),loginCtrl.init=function(){AuthService.clearSession()},$sessionStorage.taskTableHideColumns=null,$sessionStorage.taskHistoryTableHideColumns=null,loginCtrl.login=function(){var request={username:loginCtrl.username,password:loginCtrl.password};AuthService.login(request).then((function(response){"SUCCESS"==response.errorCode?($rootScope.$broadcast(AUTH_EVENTS.loginSuccess),TDMService.getSupportedDbTypes().then((function(response){"SUCCESS"==response.errorCode&&TDMService.saveDBTypes(response.result)})),$state.go("dashboard")):loginCtrl.errorMessage=response.message}))},loginCtrl.init()}angular.module("TDM-FE").controller("LoginCtrl",LoginCtrl);